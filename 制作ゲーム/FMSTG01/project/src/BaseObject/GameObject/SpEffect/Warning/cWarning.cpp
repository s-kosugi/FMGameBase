/*==============================================================================*/
/*																				*/
/*	@file title	:	cWarning.cpp												*/
/*  @brief		:	ワーニングエフェクトクラス									*/
/*	@written	:	s.kosugi													*/
/*	@create		:   2019/1/28													*/
/*																				*/
/*==============================================================================*/

#include "cWarning.h"
#include "..\..\Enemy\cEnemyManager.h"
#include "..\..\..\..\Utility\utility.h"
#include "..\..\..\..\SoundCtrl\cSoundCtrl.h"
#include "..\cSpEffectManager.h"

//==========================================================================================
// コンストラクタ
//==========================================================================================
cWarning::cWarning(IBaseObject * parent)
	: cSpEffectObject(parent, "Warning", "data\\graphic\\WARNING.png"),
	m_nCounter( 0 )
{
}

//==========================================================================================
// デストラクタ
//==========================================================================================
cWarning::~cWarning(void)
{
}

//==========================================================================================
// 初期化
//==========================================================================================
void cWarning::Initialize(void)
{
	SetPriority(PRIORITY);

	cSpEffectObject::Initialize();
}

//==========================================================================================
// 更新
//==========================================================================================
void cWarning::Update(void)
{
	m_nCounter+=4;
	SetAlpha((int)((sin(DEG_TO_RAD(m_nCounter)) + 1) * 127.5f));

	if (GetAlpha() <= 0 ) DeleteObject();

	cSpEffectObject::Update();
}

//==========================================================================================
// 破棄
//==========================================================================================
IBaseObject* cWarning::Finalize(void)
{
	cSpEffectObject::Finalize();

	return this;
}